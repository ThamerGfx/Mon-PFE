(window.webpackJsonp=window.webpackJsonp||[]).push([[6,28],{1454:function(e,t,a){"use strict";var n=a(11),o=a(12),r=a(14),i=a(13),l=a(15),c=a(0),s=a.n(c),d=a(93),u=a(21);t.a=function(e,t){return function(a){return function(c){function m(a){var o;return Object(n.a)(this,m),o=Object(r.a)(this,Object(i.a)(m).call(this,a)),Object(d.b)(e,t),o}return Object(l.a)(m,c),Object(o.a)(m,[{key:"render",value:function(){var t=this;return s.a.createElement(u.a.Consumer,null,function(n){return n.store,n.storeState[e]?s.a.createElement(a,t.props):null})}}]),m}(s.a.PureComponent)}}},1458:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return d}),a.d(t,"c",function(){return u}),a.d(t,"d",function(){return f}),a.d(t,"e",function(){return b});var n=a(5),o=a(31),r=(a(419),a(56)),i=a.n(r),l=a(93),c=a(24),s=function(e){return function(t){i.a.auth().onAuthStateChanged(function(t){t&&(console.log(t.uid),i.a.firestore().collection("users").doc(t.uid).get().then(function(a){console.log(a.data());var r=a.data(),i=r.displayName,s=r.email_user;console.log(i);var d={uid:t.uid,displayName:i,email_user:s},u=o.a.firestore().collection("messages").doc().id;o.a.firestore().collection("messages").doc(u).set(Object(n.a)({},e,{id:u,authorName:d.displayName,authorId:d.uid,authorEmail:d.email_user,createdAt:new Date})).then(function(e){e||l.a.dispatch(c.j({message:"Message envoy\xe9"}))}).catch(function(e){console.error("Error adding document: ",e)})}))})}},d=function(){return console.log("open dialog message"),{type:"OPEN_DIALOG_MESSAGE"}},u=function(){return{type:"CLOSE_DIALOG_MESSAGE"}},m=[],f=function(){return function(e){i.a.auth().onAuthStateChanged(function(t){t&&(console.log(t.uid),i.a.firestore().collection("users").doc(t.uid).get().then(function(a){console.log(a.data());var r=a.data().displayName;console.log(r);t.uid!==m.authorId&&o.a.firestore().collection("messages").get().then(function(t){return t.forEach(function(e){var t=Object(n.a)({},e.data(),{id:e.id});m.push(t)}),e(b(m)),m}).catch(function(e){console.error("Error writing document: ",e)})}))})}},b=function(e){return{type:"GET_ALL_MESSAGES_SUCCESS",payload:e}}},1464:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"g",function(){return d}),a.d(t,"c",function(){return m}),a.d(t,"d",function(){return f}),a.d(t,"a",function(){return b}),a.d(t,"h",function(){return p}),a.d(t,"e",function(){return h}),a.d(t,"f",function(){return g});var n=a(5),o=a(31),r=(a(419),a(56)),i=a.n(r),l=a(93),c=a(24),s=function(e){return function(t){i.a.auth().onAuthStateChanged(function(a){a&&(console.log(a.uid),i.a.firestore().collection("users").doc(a.uid).get().then(function(r){console.log(r.data());var i=r.data().displayName;console.log(i);var l={uid:a.uid,displayName:i},c=o.a.firestore().collection("formations").doc().id;o.a.firestore().collection("formations").doc(c).set(Object(n.a)({},e,{id:c,authorId:l.uid,createdAt:new Date})).then(function(){t({type:"Add_FORMATION"})}).catch(function(e){console.error("Error adding document: ",e)})}))})}},d=function(e){return function(t){o.a.firestore().collection("formations").doc(e).delete().then(function(e){e||l.a.dispatch(c.j({message:"Cette formation a \xe9t\xe9 supprim\xe9e"}))})}},u=[],m=function(){return function(e){o.a.firestore().collection("formations").get().then(function(t){return t.forEach(function(e){var t=Object(n.a)({},e.data(),{id:e.id});u.push(t)}),e(f(u)),u}).catch(function(e){console.error("Error writing document: ",e)})}},f=function(e){return{type:"GET_ALL_FORMATIONS_SUCCESS",payload:e}};function b(e){return{type:"EDIT_FORMATION_ITEM",formation:e}}var p=function(e){return function(t){o.a.firestore().collection("formations").doc(e.id).update(Object(n.a)({},e)).then(function(){t({type:"UPDATE_FORMATION"})}).catch(function(e){console.error("Error updating document: ",e)})}};function h(){return{type:"OPEN_EDIT_FORMATION"}}function g(){return console.log("action"),{type:"OPEN_NEW_FORMATION"}}},1475:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"g",function(){return d}),a.d(t,"c",function(){return m}),a.d(t,"d",function(){return f}),a.d(t,"a",function(){return b}),a.d(t,"h",function(){return p}),a.d(t,"e",function(){return h}),a.d(t,"f",function(){return g});var n=a(5),o=a(31),r=(a(419),a(56)),i=a.n(r),l=a(93),c=a(24),s=function(e){return function(t){i.a.auth().onAuthStateChanged(function(a){a&&(console.log(a.uid),i.a.firestore().collection("users").doc(a.uid).get().then(function(r){console.log(r.data());var i=r.data().displayName;console.log(i);var l={uid:a.uid,displayName:i},c=o.a.firestore().collection("informations").doc().id;o.a.firestore().collection("informations").doc(c).set(Object(n.a)({},e,{id:c,authorName:l.displayName,authorId:l.uid,createdAt:new Date})).then(function(){t({type:"Add_INFORMATION"})}).catch(function(e){console.error("Error adding document: ",e)})}))})}},d=function(e){return function(t){o.a.firestore().collection("informations").doc(e).delete().then(function(e){e||l.a.dispatch(c.j({message:"Cette information a \xe9t\xe9 supprim\xe9e"}))})}},u=[],m=function(){return function(e){i.a.auth().onAuthStateChanged(function(t){t&&(console.log(t.uid),i.a.firestore().collection("users").doc(t.uid).get().then(function(a){console.log(a.data());var r=a.data().displayName;console.log(r);t.uid===u.authorId&&o.a.firestore().collection("informations").get().then(function(t){return t.forEach(function(e){var t=Object(n.a)({},e.data(),{id:e.id});u.push(t)}),e(f(u)),u}).catch(function(e){console.error("Error writing document: ",e)})}))})}},f=function(e){return{type:"GET_ALL_INFORMATIONS_SUCCESS",payload:e}};function b(e){return{type:"EDIT_INFORMATION_ITEM",information:e}}var p=function(e){return function(t){o.a.firestore().collection("informations").doc(e.id).update(Object(n.a)({},e)).then(function(){t({type:"UPDATE_INFORMATION"})}).catch(function(e){console.error("Error updating document: ",e)})}};function h(){return{type:"OPEN_EDIT_INFORMATION"}}function g(){return console.log("action"),{type:"OPEN_NEW_INFORMATION"}}},1491:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(1545)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.default.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"})),"Done");t.default=r},1492:function(e,t,a){"use strict";a.r(t);var n=a(11),o=a(12),r=a(14),i=a(13),l=a(15),c=a(34),s=a(5),d=a(0),u=a.n(d),m=a(1),f=a(50),b=a(16),p=a(1493),h=(a(1483),a(1484),a(1485)),g=a.n(h),E=a(129),v=a.n(E),y=a(4),O=a.n(y),x=a(21),N=a(1454),j=(a(682),a(278)),w=a(423),k=a(9),C=a(421),I={id:w.a.generateGUID(),title:"",allDay:!0,start:new Date,end:new Date,desc:""},D=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state=Object(s.a)({},I),a.handleChange=function(e){a.setState(k.a.set(Object(s.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.closeComposeDialog=function(){"edit"===a.props.eventDialog.type?a.props.closeEditEventDialog():a.props.closeNewEventDialog()},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){!e.eventDialog.props.open&&this.props.eventDialog.props.open&&("edit"===this.props.eventDialog.type&&this.props.eventDialog.data&&!k.a.isEqual(this.props.eventDialog.data,t)&&this.setState(Object(s.a)({},this.props.eventDialog.data)),"new"===this.props.eventDialog.type&&this.setState(Object(s.a)({},I,this.props.eventDialog.data)))}},{key:"canBeSubmitted",value:function(){return this.state.title.length>0}},{key:"render",value:function(){var e=this,t=this.props,a=t.eventDialog,n=t.addEvent,o=t.updateEvent,r=t.removeEvent,i=v()(this.state.start).format(v.a.HTML5_FMT.DATETIME_LOCAL_SECONDS),l=v()(this.state.end).format(v.a.HTML5_FMT.DATETIME_LOCAL_SECONDS);return u.a.createElement(m.j,Object.assign({},a.props,{onClose:this.closeComposeDialog,fullWidth:!0,maxWidth:"xs"}),u.a.createElement(m.a,{position:"static"},u.a.createElement(m.db,{className:"flex w-full"},u.a.createElement(m.fb,{variant:"subtitle1",color:"inherit"},"new"===a.type?"New Event":"Edit Event"))),u.a.createElement(m.l,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},u.a.createElement(m.cb,{id:"title",label:"Title",className:"mt-8 mb-16",InputLabelProps:{shrink:!0},inputProps:{max:l},name:"title",value:this.state.title,onChange:this.handleChange,variant:"outlined",autoFocus:!0,required:!0,fullWidth:!0}),u.a.createElement(m.r,{className:"mt-8 mb-16",label:"All Day",control:u.a.createElement(m.T,{checked:this.state.allDay,id:"allDay",name:"allDay",onChange:this.handleChange})}),u.a.createElement(m.cb,{id:"start",name:"start",label:"Start",type:"datetime-local",className:"mt-8 mb-16",InputLabelProps:{shrink:!0},inputProps:{max:l},value:i,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(m.cb,{id:"end",name:"end",label:"End",type:"datetime-local",className:"mt-8 mb-16",InputLabelProps:{shrink:!0},inputProps:{min:i},value:l,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(m.cb,{className:"mt-8 mb-16",id:"desc",label:"Description",type:"text",name:"desc",value:this.state.desc,onChange:this.handleChange,multiline:!0,rows:5,variant:"outlined",fullWidth:!0})),"new"===a.type?u.a.createElement(m.k,{className:"justify-between pl-8 sm:pl-16"},u.a.createElement(m.c,{variant:"contained",color:"primary",onClick:function(){n(e.state),e.closeComposeDialog()},disabled:!this.canBeSubmitted()},"Add")):u.a.createElement(m.k,{className:"justify-between pl-8 sm:pl-16"},u.a.createElement(m.c,{variant:"contained",color:"primary",onClick:function(){o(e.state),e.closeComposeDialog()},disabled:!this.canBeSubmitted()}," Save"),u.a.createElement(m.x,{onClick:function(){r(e.state.id),e.closeComposeDialog()}},u.a.createElement(m.w,null,"delete"))))}}]),t}(d.Component),A=Object(x.b)(function(e){return{eventDialog:e.calendarApp.events.eventDialog}},{closeEditEventDialog:C.b,closeNewEventDialog:C.c,addEvent:C.a,updateEvent:C.h,removeEvent:C.g})(D),S=a(1490),_=a.n(S),M=a(1461),T=a(35),F={month:{title:"Month",icon:"view_module"},week:{title:"Week",icon:"view_week"},work_week:{title:"Work week",icon:"view_array"},day:{title:"Day",icon:"view_day"},agenda:{title:"Agenda",icon:"view_agenda"}},P=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"viewButtons",value:function(){var e=this,t=this.props.views,a=this.props.view;if(t.length>1)return t.map(function(t){return u.a.createElement(m.eb,{title:F[t].title,key:t},u.a.createElement("div",null,u.a.createElement(b.a,{animation:"transition.expandIn",delay:500},u.a.createElement(m.x,{"aria-label":t,onClick:function(){return e.props.onView(t)},disabled:a===t},u.a.createElement(m.w,null,F[t].icon)))))})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.mainThemeDark,n=e.label,o=e.date;return u.a.createElement(f.MuiThemeProvider,{theme:a},u.a.createElement("div",{className:O()(t.root,"flex h-200 min-h-200 relative",v()(o).format("MMM"))},u.a.createElement("div",{className:"flex flex-1 flex-col p-12 justify-between z-10 container"},u.a.createElement("div",{className:"flex flex-col items-center justify-between sm:flex-row"},u.a.createElement("div",{className:"flex items-center my-16 sm:mb-0"},u.a.createElement(b.a,{animation:"transition.expandIn",delay:300},u.a.createElement(m.w,{className:"text-32 mx-12"},"today")),u.a.createElement(b.a,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(m.fb,{variant:"h6"},"Calendar"))),u.a.createElement("div",{className:"flex items-center"},u.a.createElement(m.eb,{title:"Today"},u.a.createElement(b.a,{animation:"transition.expandIn",delay:500},u.a.createElement(m.x,{"aria-label":"today",onClick:this.navigate.bind(null,M.navigate.TODAY)},u.a.createElement(m.w,null,"today")))),this.viewButtons())),u.a.createElement(b.a,{delay:500},u.a.createElement("div",{className:"flex items-center justify-center"},u.a.createElement(m.eb,{title:"Previous"},u.a.createElement(m.x,{"aria-label":"Previous",onClick:this.navigate.bind(null,M.navigate.PREVIOUS)},u.a.createElement(m.w,null,"chevron_left"))),u.a.createElement(m.fb,{variant:"h6"},n),u.a.createElement(m.eb,{title:"Next"},u.a.createElement(m.x,{"aria-label":"Next",onClick:this.navigate.bind(null,M.navigate.NEXT)},u.a.createElement(m.w,null,"chevron_right"))))))))}}]),t}(_.a);var L=Object(f.withStyles)(function(e){return{root:{backgroundImage:'url("../../assets/images/backgrounds/header-bg.png")',backgroundColor:"#FAFAFA",color:"#FFFFFF",backgroundSize:"cover",backgroundPosition:"0 50%",backgroundRepeat:"no-repeat","&:before":{content:"''",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,background:"rgba(0, 0, 0, 0.45)"},"&.Jan":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Feb":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Mar":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Apr":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.May":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Jun":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Jul":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Aug":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Sep":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Oct":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Nov":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Dec":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"}}}},{withTheme:!0})(Object(T.a)(function(e){return{mainThemeDark:e.fuse.settings.mainThemeDark}})(P)),U=a(38),z=p.a.momentLocalizer(v.a),R=g()(p.a),B=Object.keys(p.a.Views).map(function(e){return p.a.Views[e]}),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).moveEvent=function(e){var t=e.event;e.start,e.end;a.props.updateEvent(t)},a.resizeEvent=function(e){var t=e.event;e.start,e.end;delete t.type,a.props.updateEvent(t)},a.headerEl=u.a.createRef(),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getEvents()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.openNewEventDialog,o=t.openEditEventDialog,r=this.props.events||[];return u.a.createElement("div",{className:O()(a.root,"flex flex-col flex-auto relative")},u.a.createElement("div",{ref:this.headerEl}),u.a.createElement(R,{className:"flex flex-1 container",selectable:!0,localizer:z,events:r,onEventDrop:this.moveEvent,resizable:!0,onEventResize:this.resizeEvent,defaultView:p.a.Views.MONTH,defaultDate:new Date(2018,3,1),startAccessor:"start",endAccessor:"end",views:B,step:60,showMultiDayTimes:!0,components:{toolbar:function(t){return e.headerEl.current?U.createPortal(u.a.createElement(L,t),e.headerEl.current):null}},onNavigate:this.handleNavigate,onSelectEvent:function(e){o(e)},onSelectSlot:function(e){return n({start:e.start.toLocaleString(),end:e.end.toLocaleString()})}}),u.a.createElement(b.a,{animation:"transition.expandIn",delay:500},u.a.createElement(m.o,{color:"secondary","aria-label":"add",className:a.addButton,onClick:function(){return n({start:new Date,end:new Date})}},u.a.createElement(m.w,null,"add"))),u.a.createElement(A,null))}}]),t}(d.Component);t.default=Object(N.a)("calendarApp",j.a)(Object(f.withStyles)(function(e){return{root:{"& .rbc-header":{padding:"12px 6px",fontWeight:600,fontSize:14},"& .rbc-label":{padding:"8px 6px"},"& .rbc-today":{backgroundColor:"transparent"},"& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today":{borderBottom:"2px solid "+e.palette.secondary.main+"!important"},"& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view":Object(s.a)(Object(c.a)({padding:24},e.breakpoints.down("sm"),{padding:16}),e.mixins.border(0)),"& .rbc-agenda-view table":Object(s.a)({},e.mixins.border(1),{"& thead > tr > th":Object(s.a)({},e.mixins.borderBottom(0)),"& tbody > tr > td":{padding:"12px 6px","& + td":Object(s.a)({},e.mixins.borderLeft(1))}}),"& .rbc-time-view":{"& .rbc-time-header":Object(s.a)({},e.mixins.border(1)),"& .rbc-time-content":Object(s.a)({flex:"0 1 auto"},e.mixins.border(1))},"& .rbc-month-view":{"& > .rbc-row":Object(s.a)({},e.mixins.border(1)),"& .rbc-month-row":Object(s.a)({},e.mixins.border(1),{borderWidth:"0 1px 1px 1px!important",minHeight:128}),"& .rbc-header + .rbc-header":Object(s.a)({},e.mixins.borderLeft(1)),"& .rbc-header":Object(s.a)({},e.mixins.borderBottom(0)),"& .rbc-day-bg + .rbc-day-bg":Object(s.a)({},e.mixins.borderLeft(1))},"& .rbc-day-slot .rbc-time-slot":Object(s.a)({},e.mixins.borderTop(1),{opacity:.5}),"& .rbc-time-header > .rbc-row > * + *":Object(s.a)({},e.mixins.borderLeft(1)),"& .rbc-time-content > * + * > *":Object(s.a)({},e.mixins.borderLeft(1)),"& .rbc-day-bg + .rbc-day-bg":Object(s.a)({},e.mixins.borderLeft(1)),"& .rbc-time-header > .rbc-row:first-child":Object(s.a)({},e.mixins.borderBottom(1)),"& .rbc-timeslot-group":Object(s.a)({minHeight:64},e.mixins.borderBottom(1)),"& .rbc-date-cell":{padding:8,fontSize:16,fontWeight:400,opacity:.5,"& > a":{color:"inherit"}},"& .rbc-event":{borderRadius:4,padding:"4px 8px",backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,boxShadow:e.shadows[0],transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,position:"relative","&:hover":{boxShadow:e.shadows[2]}},"& .rbc-row-segment":{padding:"0 4px 4px 4px"},"& .rbc-off-range-bg":{backgroundColor:"light"===e.palette.type?"rgba(0,0,0,0.03)":"rgba(0,0,0,0.16)"},"& .rbc-show-more":{color:e.palette.secondary.main,background:"transparent"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event":{position:"static"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child":{left:0,top:0,bottom:0,height:"auto"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child":{right:0,top:0,bottom:0,height:"auto"}},addButton:{position:"absolute",right:12,top:172,zIndex:99}}},{withTheme:!0})(Object(x.b)(function(e){return{entities:e.calendarApp.events.entities}},{getEvents:C.d,openNewEventDialog:C.f,openEditEventDialog:C.e,updateEvent:C.h})(W)))},1545:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=n(a(95)),i=n(a(73));var l=function(e,t){var a=function(t){return o.default.createElement(i.default,t,e)};return a.displayName="".concat(t,"Icon"),(a=(0,r.default)(a)).muiName="SvgIcon",a};t.default=l},1566:function(e,t,a){"use strict";a.r(t);var n=a(11),o=a(12),r=a(14),i=a(13),l=a(15),c=a(34),s=a(0),d=a.n(s),u=a(1),m=a(50),f=a(16),b=a(21),p=a(18),h=(a(9),a(30)),g=a(185),E=a(1464),v=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(e){console.log(e),a.props.EditFormationItem(e)},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllFormations()}},{key:"render",value:function(){var e=this,t=this.props.formations||[],a=this.props.auth;return d.a.createElement("div",{className:"md:flex max-w-2xl"},d.a.createElement("div",null,d.a.createElement(u.d,null,d.a.createElement(f.a,{animation:"transition.expandIn",delay:600},d.a.createElement(u.o,{color:"red","aria-label":"add"},d.a.createElement(u.w,{component:h.a,role:"button",to:"/formformation/formation"},"add"))))),d.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},d.a.createElement(f.b,{enter:{animation:"transition.slideUpBigIn"}},t.map(function(t){if(a.uid===t.authorId)return d.a.createElement(u.d,{className:"w-full mb-16"},d.a.createElement(u.a,{position:"static",elevation:0,style:{backgroundColor:"#124164"}},d.a.createElement(u.db,{className:"pl-16 pr-8"},d.a.createElement(u.fb,{variant:"subtitle1",color:"inherit",className:"flex-1"},t.titre),d.a.createElement(u.w,{"aria-label":"create",color:"secondary",onClick:function(){e.handleClick(t)},component:h.a,to:"/formformation/"+t.id+"/"+t.titre},"create"),d.a.createElement(u.w,{"aria-label":"delete",onClick:function(){e.props.removeFormation(t.id)}},"delete"))),d.a.createElement(u.e,null,d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Date"),d.a.createElement(u.fb,null,t.date)),d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Client"),d.a.createElement(u.fb,null,t.client)),d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Dur\xe9e"),d.a.createElement(u.fb,null,t.dur\u00e9e))))}))))}}]),t}(s.Component),y=Object(p.e)(Object(b.b)(function(e){return{allFormations:e.formationReducer.allFormations,formations:e.firestore.ordered.formations,auth:e.firebase.auth}},{getAllFormations:E.c,getAllFormationsSuccess:E.d,removeFormation:E.g,EditFormationItem:E.a,openEditFormation:E.e,openNewFormation:E.f}),Object(g.firestoreConnect)([{collection:"formations"}]))(v),O=a(1492),x=a(1491),N=a.n(x),j=a(1475),w=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={color:"default",onDelete:"default",avatar:"none",icon:"none",variant:"default",size:"medium"},a.handleClickInfos=function(e){console.log(e),a.props.EditInformationItem(e)},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;switch(n){case"none":""}switch(r){case"none":""}switch(o){case"none":""}"none"!==o&&"";var t=this.props.informations||[],a=this.state,n=(a.color,a.onDelete),o=a.avatar,r=a.icon,i=(a.variant,a.size,this.props.auth);return d.a.createElement("div",{className:"md:flex max-w-2xl"},d.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},d.a.createElement(f.b,{enter:{animation:"transition.slideUpBigIn"}},d.a.createElement(u.d,{className:"w-full mb-16",style:{backgroundColor:"#e0e0e0"}},d.a.createElement(u.a,{position:"static",elevation:2,style:{backgroundColor:"#e0e0e0"}},d.a.createElement(u.db,{className:"pl-16 pr-8"},d.a.createElement(u.fb,{variant:"subtitle1",color:"primary",className:"flex-1"},d.a.createElement("b",null,d.a.createElement("h1",null,"Informations"))),d.a.createElement(u.o,{color:"primary"},d.a.createElement(u.w,{"aria-label":"add",component:h.a,to:"/forminfos/ajouter"},"add")))),t.map(function(t){if(i.email===t.email)return d.a.createElement(u.d,{className:"w-full mb-16"},d.a.createElement(u.a,{position:"static",elevation:0,style:{backgroundColor:"#124164"}},d.a.createElement(u.db,{className:"pl-16 pr-8"},d.a.createElement(u.fb,{variant:"subtitle1",color:"inherit",className:"flex-1"},"Informations Personnelles"),d.a.createElement(u.o,null,d.a.createElement(u.w,{"aria-label":"create",onClick:function(){e.handleClickInfos(t)},component:h.a,to:"/forminfos/"+t.id+"/"+t.nom},"create")))),d.a.createElement(u.e,{style:{height:"220px"}},d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Nom"),d.a.createElement(u.fb,null,t.nom)),d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Pr\xe9nom"),d.a.createElement(u.fb,null,t.pr\u00e9nom)),d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Description"),d.a.createElement(u.fb,null,t.desc))),d.a.createElement(u.a,{position:"static",elevation:0,style:{backgroundColor:"#124164"}},d.a.createElement(u.db,{className:"pl-16 pr-8"},d.a.createElement(u.fb,{variant:"subtitle1",color:"inherit",className:"flex-1"},"Contact"))),d.a.createElement(u.e,{style:{height:"220px"}},d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Adresse"),d.a.createElement("div",{className:"flex items-center"},d.a.createElement(u.fb,null,t.adresse),d.a.createElement(u.w,{className:"text-16 ml-4",color:"action"},"location_on"))),d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Tel."),d.a.createElement("div",{className:"flex items-center"},d.a.createElement(u.fb,null,t.tel),d.a.createElement(u.w,{className:"text-16 ml-4",color:"action"},"phone"))),d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Email"),d.a.createElement("div",{className:"flex items-center"},d.a.createElement(u.fb,null,t.email),d.a.createElement(u.w,{className:"text-16 ml-4",color:"action"},"email")),d.a.createElement(u.g,{deleteIcon:d.a.createElement(N.a,null)},"aaa"))))})))))}}]),t}(s.Component),k=Object(p.e)(Object(b.b)(function(e){return{allInformations:e.infoReducer.allInformations,informations:e.firestore.ordered.informations,auth:e.firebase.auth}},{getAllInformationsSuccess:j.d,getAllInformations:j.c,removeInformation:j.g,EditInformationItem:j.a,openEditInformation:j.e,openNewInformation:j.f}),Object(g.firestoreConnect)([{collection:"informations"}]))(w),C=a(31),I=(a(5),a(419),a(56)),D=a.n(I),A=a(93),S=a(24);var _=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={color:"default",onDelete:"default",avatar:"none",icon:"none",variant:"default",size:"medium",file:null,url:"",progress:0,id:""},a.handleChangeUpload=function(e){if(e.target.files[0]){var t=e.target.files[0];a.setState(function(){return{file:t}})}},a.handleUpload=function(){var e=a.state.file;a.props.UploadFile(e)},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){this.props.files;return d.a.createElement("div",{className:"md:flex max-w-2xl"},d.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},d.a.createElement(f.b,{enter:{animation:"transition.slideUpBigIn"}},d.a.createElement(u.d,{className:"w-full mb-16"},d.a.createElement(u.a,{position:"static",elevation:2,style:{backgroundColor:"#124164"}},d.a.createElement(u.db,{className:"pl-16 pr-8"},d.a.createElement(u.fb,{variant:"subtitle1",color:"inherit",className:"flex-1"},d.a.createElement("b",null,d.a.createElement("h1",null,"G\xe8rer votre CV"))))),d.a.createElement(u.e,null,d.a.createElement(f.b,{enter:{animation:"transition.slideUpBigIn"}},d.a.createElement("div",null,d.a.createElement("input",{type:"file",onChange:this.handleChangeUpload}),d.a.createElement(f.a,{animation:"transition.expandIn",delay:600},d.a.createElement(u.o,{color:"primary",onClick:this.handleUpload},d.a.createElement(u.w,{"aria-label":"add"},"add"))))))))))}}]),t}(s.Component),M=Object(p.e)(Object(b.b)(function(e){return{allFiles:e.infoReducer.allFiles,files:e.firestore.ordered.files,auth:e.firebase.auth}},{UploadFile:function(e){return function(t){D.a.auth().onAuthStateChanged(function(t){t&&(console.log(t.uid),D.a.firestore().collection("users").doc(t.uid).get().then(function(a){console.log(a.data());var n=a.data(),o=n.displayName,r=n.email_user;console.log(o);var i={uid:t.uid,displayName:o,email_user:r};C.b.ref("files/".concat(e.name)).put(e).on("state_changed"),C.b.ref("files").child(e.name).getDownloadURL().then(function(t){var a=i.uid;C.a.firestore().collection("files").doc(a).set({id:a,name:e.name,url:t,authorName:i.displayName,authorEmail:i.email_user,authorId:i.uid,createdAt:new Date}).then(function(e){e||A.a.dispatch(S.j({message:"CV ajout\xe9"}))})})}))}),console.log("cv ajout\xe9")}},removeFile:function(e){return function(t){D.a.auth().onAuthStateChanged(function(t){t&&(console.log(t.uid),D.a.firestore().collection("users").doc(t.uid).get().then(function(a){console.log(a.data());var n=a.data(),o=n.displayName;n.role,n.email_user,console.log(o);var r=t.uid;C.a.firestore().collection("files").doc(e).get().then(function(t){var a=t.data().authorId;r===a&&C.a.firestore().collection("files").doc(e).delete()}).then(function(e){e||A.a.dispatch(S.j({message:"Ce r\xe9seau a \xe9t\xe9 supprim\xe9"}))}),console.log("cv supprim\xe9")}))})}}}),Object(g.firestoreConnect)([{collection:"files"}]))(_),T=a(1458),F=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(e){console.log(e),a.props.EditMessageItem(e)},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllMessages()}},{key:"render",value:function(){var e=this.props.messages||[],t=this.props.auth;return d.a.createElement("div",{className:"md:flex max-w-2xl"},d.a.createElement("div",null,d.a.createElement(u.d,null,d.a.createElement(f.a,{animation:"transition.expandIn",delay:600},d.a.createElement(u.o,{color:"red","aria-label":"add"},d.a.createElement(u.w,{component:h.a,role:"button",to:"/formmessage/message"},"new_message"))))),d.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},d.a.createElement(f.b,{enter:{animation:"transition.slideUpBigIn"}},e.map(function(e){if(t.email===e.dist)return d.a.createElement(u.d,{className:"w-full mb-16"},d.a.createElement(u.a,{position:"static",elevation:0,style:{backgroundColor:"#124164"}},d.a.createElement(u.db,{className:"pl-16 pr-8"},d.a.createElement(u.fb,{variant:"subtitle1",color:"inherit",className:"flex-1"},e.authorEmail),d.a.createElement(u.o,{color:"red","aria-label":"add"},d.a.createElement(u.w,{component:h.a,role:"button",to:"/formmessage/message"},"send_message")))),d.a.createElement(u.e,null,d.a.createElement("div",{className:"mb-24"},d.a.createElement(u.fb,{className:"font-bold mb-4 text-15"},"Message"),d.a.createElement(u.fb,null,e.msg))))}))))}}]),t}(s.Component),P=Object(p.e)(Object(b.b)(function(e){return{allMessages:e.messageReducer.allMessages,messages:e.firestore.ordered.messages,auth:e.firebase.auth}},{getAllMessages:T.d,getAllMessagesSuccess:T.e,OpenDialogMessage:T.a}),Object(g.firestoreConnect)([{collection:"messages"}]))(F),L=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t})},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,n=this.state.value;return d.a.createElement(f.n,{classes:{header:t.layoutHeader,toolbar:"px-16 sm:px-24"},header:d.a.createElement("div",{className:"p-24 flex flex-1 flex-col items-center justify-center md:flex-row md:items-end",style:{backgroundColor:"#3C4252"}},d.a.createElement("div",{className:"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start"},d.a.createElement(f.a,{animation:"transition.slideLeftIn",delay:300},d.a.createElement(u.fb,{className:"md:ml-24",variant:"h4",color:"inherit"},a.displayName)))),contentToolbar:d.a.createElement(u.bb,{value:n,onChange:this.handleChange,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"off",classes:{root:"h-64 w-full border-b-1"}},d.a.createElement(u.U,{classes:{root:"h-64"},label:"A propos"}),d.a.createElement(u.U,{classes:{root:"h-64"},label:"Mes Formations"}),d.a.createElement(u.U,{classes:{root:"h-64"},label:"Calendrier"}),d.a.createElement(u.U,{classes:{root:"h-64"},label:"Mon CV"}),d.a.createElement(u.U,{classes:{root:"h-64"},label:"Messages"})),content:d.a.createElement("div",{className:"p-16 sm:p-24"},0===n&&d.a.createElement(k,null),1===n&&d.a.createElement(y,null),2===n&&d.a.createElement(O.default,null),3===n&&d.a.createElement(M,null),4===n&&d.a.createElement(P,null))})}}]),t}(s.Component);t.default=Object(m.withStyles)(function(e){return{layoutHeader:Object(c.a)({height:130,minHeight:100},e.breakpoints.down("md"),{height:130,minHeight:100})}},{withTheme:!0})(Object(b.b)(function(e){return{user:e.auth.user}},null)(L))}}]);