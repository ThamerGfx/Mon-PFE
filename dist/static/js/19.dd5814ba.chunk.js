(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1448:function(n,t,e){"use strict";e.d(t,"c",function(){return l}),e.d(t,"g",function(){return s}),e.d(t,"b",function(){return d}),e.d(t,"d",function(){return f}),e.d(t,"e",function(){return m}),e.d(t,"f",function(){return g}),e.d(t,"a",function(){return h}),e.d(t,"h",function(){return A});var o=e(5),a=e(31),i=(e(419),e(56)),r=e.n(i),c=e(93),u=e(24),l=function(n){return function(t){r.a.auth().onAuthStateChanged(function(e){e&&(console.log(e.uid),r.a.firestore().collection("users").doc(e.uid).get().then(function(i){console.log(i.data());var r=i.data().displayName;console.log(r);var c={uid:e.uid,displayName:r},u=a.a.firestore().collection("animations").doc().id;a.a.firestore().collection("animations").doc(u).set(Object(o.a)({},n,{id:u,authorName:c.displayName,authorId:c.uid,createdAt:new Date})).then(function(){t({type:"Add_ANIMATION"})}).catch(function(n){console.error("Error adding document: ",n)})}))})}},s=function(n){return function(t){a.a.firestore().collection("animations").doc(n).delete().then(function(n){n||c.a.dispatch(u.j({message:"Cette animation a \xe9t\xe9 supprim\xe9e"}))})}},d=function(){return{type:"OPEN_DIALOG_ANIMATION"}};function f(){return{type:"CLOSE_DIALOG_ANIMATION"}}var p=[],m=function(){return function(n){a.a.firestore().collection("animations").get().then(function(t){return t.forEach(function(n){var t=Object(o.a)({},n.data(),{id:n.id});p.push(t)}),n(g(p)),p}).catch(function(n){console.error("Error writing document: ",n)})}},g=function(n){return{type:"GET_ALL_ANIMATIONS_SUCCESS",payload:n}};function h(n){return{type:"EDIT_ANIMATION_ITEM",animation:n}}var A=function(n){return function(t){a.a.firestore().collection("animations").doc(n.id).update(Object(o.a)({},n)).then(function(){t({type:"UPDATE_ANIMATION"})}).catch(function(n){console.error("Error updating document: ",n)})}}},1547:function(n,t,e){"use strict";e.r(t),e.d(t,"MapAnimations",function(){return O});var o=e(11),a=e(12),i=e(14),r=e(13),c=e(15),u=e(0),l=e.n(u),s=e(1459),d=e(21),f=e(18),p=e(185),m=e(1448),g=e(1),h=e(16),A=e(30),O=function(n){function t(){var n,e;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return(e=Object(i.a)(this,(n=Object(r.a)(t)).call.apply(n,[this].concat(c)))).state={isOpen:!1},e.handleToggleOpen=function(){e.setState({isOpen:!0})},e.handleToggleClose=function(){e.setState({isOpen:!1})},e}return Object(c.a)(t,n),Object(a.a)(t,[{key:"render",value:function(){var n=this,t=this.props.animations||[];return l.a.createElement("div",null,l.a.createElement(h.b,{enter:{animation:"transition.slideUpBigIn"}},l.a.createElement(g.d,{className:"w-full mb-16"},l.a.createElement(g.a,{position:"static",elevation:2,style:{backgroundColor:"#124164"}},l.a.createElement(g.db,{className:"pl-16 pr-8"},l.a.createElement(g.o,{color:"primary"},l.a.createElement(g.w,{"aria-label":"arrow_back",component:A.a,to:"/animations"},"arrow_back")))))),l.a.createElement(s.Map,{google:this.props.google,zoom:8,initialCenter:{lat:48.864497,lng:2.347071}},t.map(function(t){return l.a.createElement(s.Marker,{position:{lat:t.latitude,lng:t.longitude},icon:"https://i.ibb.co/61t9Wpv/3d-avatar-icono-05-vector-15-12586-copia-300x201.png"},n.state.isOpen&&l.a.createElement(s.InfoWindow,{onCloseClick:function(){return n.handleToggleClose()}},l.a.createElement("span",null,"Something")))})))}}]),t}(u.Component);t.default=Object(f.e)(Object(d.b)(function(n){return{allAnimations:n.myReducer.allAnimations,animations:n.firestore.ordered.animations,auth:n.firebase.auth}},{getAllAnimations:m.e,getAllAnimationsSuccess:m.f,EditAnimationItem:m.a}),Object(p.firestoreConnect)([{collection:"animations"}]),Object(s.GoogleApiWrapper)({apiKey:"AIzaSyDZt_9RcYvqfLVpUptCOK3ju_iFlnSv8IE"}))(O)}}]);